# 更新日志

## [1.2.0] - 2024-03-19

### 新增
- 添加了AI文本处理功能
  - 新增 text_processor.py 模块
  - 支持对转录文本进行智能分段
  - 支持拼写和用词检查
- 添加了 AI_CONFIG 配置项
  - 支持配置 AI 服务提供商
  - 支持自定义系统提示词
  - 支持配置模型参数

### 更改
- 优化了配置文件结构
  - 将 OpenAI 配置重命名为更具体的 Whisper API 配置
  - 添加了独立的 AI 服务配置部分
- 改进了文本处理流程
  - 在转录完成后自动进行文本处理
  - 仅对 text 格式的输出进行处理
- 更新了环境变量
  - 添加了 AI 服务相关的环境变量
  - 优化了环境变量的命名和组织

### 文档
- 更新了配置说明
- 添加了文本处理功能的说明
- 改进了环境变量配置说明


## [1.1.0] - 2025-01-09

### 新增
- 增加了对多种输出格式的支持（srt, text, json, verbose_json, vtt）
- 在 AUDIO_CONFIG 中添加了 response_format 配置项
- 添加了文件扩展名自动匹配功能，根据输出格式自动设置正确的扩展名

### 更改
- 重构了目录结构和命名：
  - `segments_dir` 改名为 `audio_chunks_dir`
  - `srt_dir` 改名为 `trans_chunks_dir`
- 优化了时间戳处理逻辑，现在只在必要时（srt/vtt格式）进行调整
- 改进了分段文本的合并逻辑，为非字幕格式添加了分段标记

### 文档
- 更新了 README.md，添加了多格式支持的说明
- 改进了配置项的注释说明
- 添加了字幕时间戳调整功能的适用范围说明

### 代码优化
- 添加了 `needs_timestamp_adjustment` 函数用于判断是否需要处理时间戳
- 改进了代码注释，使其更清晰和准确

### 修复
- 修复了时间戳调整功能可能应用于非字幕格式的问题


## [1.0.0] - 2025-01-03

新发布。